<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    <title>Localix</title>
    <link rel="stylesheet" href="./dash.css">
</head>
<body>
    <nav>
        <div class="head">
            <a href="../index.html"class="logo"><i class="fa-solid fa-arrow-left"></i></a>
            <div class="pic">
                <i class="fa-solid fa-user"></i>
            </div>
            <div class="ident">
                <h3>Lumora</h3>
                <p>cokkies shop</p>
            </div>
        </div>
        <ul>
            <li class="search"><a href="../search/search.html">Search</a></li>
            <li class="signOut"><a href="../index.html">Sign Out</a></li>
        </ul>
    </nav>
    <section class="hero">
                <div class="box">
                    <div class="tabs">
                        <button class="productsbtn">Products</button>
                        <button class="insightsbtn">Insights</button>
                        <button class="postsbtn">Posts</button>
                    </div>
                    <div class="content-box">
                        <div class="content products-box">
                            <div class="head">
                                <div class="text">
                                    <h1>Your Products</h1>
                                    <p>Manage your prodcuts</p>
                                </div>
                                <button>+ Add Product</button>
                            </div>
                            <div class="products">
                                <div class="product">
                                    <h1>Cupcake</h1>
                                    <p>A cupcake that is made of creamy white chocolate and strawbarry</p>
                                    <h3>$5.00</h3>
                                    <img src="https://sugargeekshow.com/wp-content/uploads/2022/08/vanilla_cupcake_featured_blog.jpg" alt="" width="250">
                                </div>
                            </div>
                        </div>
                        <div class="content insights-box">
                            <div class="head">
                                <h1>See Your Insights</h1>
                                <p>See your progress</p>
                            </div>
                            <div class="cards">
                                <div class="card">
                                    <h3>Active Products</h3>
                                    <h1>4</h1>
                                    <p>0 inacive products</p>
                                </div>
                                <div class="card">
                                    <h3>Total Products</h3>
                                    <h1>4</h1>
                                    <p>All products in catalog</p>
                                </div>
                                <div class="card">
                                    <h3>Catalog value</h3>
                                    <h1>$8.00</h1>
                                    <p>Total product value</p>
                                </div>
                            </div>
                        </div>
                        <div class="content posts-box">
                            <div class="head">
                                <div class="text">
                                    <h1>See your Posts</h1>
                                    <p>Manage your posts</p>
                                </div>
                                <button>+ Add Post</button>
                            </div>
                            <div class="posts">
                                <div class="post">
                                    <div class="pic">
                                        <i class="fa-solid fa-user"></i>
                                    </div>
                                    <p>New cupcake shop</p>
                                    <img src="https://sugargeekshow.com/wp-content/uploads/2022/08/vanilla_cupcake_featured_blog.jpg" alt="" width="250">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    </section>
    <section class="forms">
        <div class="addpost">
            <h2>Add Post</h2>
            <p>Share posts with the comunity</p>
            <h4>Post Description</h4>
            <input type="text" name="desc" id="desc">
            <h4>Image URL</h4>
            <input type="text" name="img" id="img">
            <div class="btns">
                <button class="cancel">Cancel</button>
                <button class="save">Save</button>
            </div>
        </div>
        <div class="addproduct">
            <h2>Add Product</h2>
            <p>Share your products with the comunity</p>
            <h4>Product Title</h4>
            <input type="text" name="title" id="title">
            <h4>Product Description</h4>
            <input type="text" name="desc" id="desc">
            <h4>Product Price</h4>
            <input type="text" name="desc" id="desc">
            <h4>Image URL</h4>
            <input type="text" name="img" id="img">
            <div class="btns">
                <button class="cancel">Cancel</button>
                <button class="save">Save</button>
            </div>
        </div>
    </section>
    <div class="layer"></div>
    <script>
        const postsbtn = document.querySelector(".postsbtn");
const productsbtn = document.querySelector(".productsbtn");
const insightsbtn = document.querySelector(".insightsbtn");

const posts = document.querySelector(".posts-box");
const insights = document.querySelector(".insights-box");
const products = document.querySelector(".products-box");

// Initial state: show products by default or based on preference
products.style.display = "block";
insights.style.display = "none";
posts.style.display = "none";

postsbtn.addEventListener("click", () => {
    insights.style.display = "none";
    products.style.display = "none";
    posts.style.display = "block";
});
insightsbtn.addEventListener("click", () => {
    insights.style.display = "block";
    products.style.display = "none";
    posts.style.display = "none";
});
productsbtn.addEventListener("click", () => {
    insights.style.display = "none";
    products.style.display = "block";
    posts.style.display = "none";
});

const cancelBtns = document.querySelectorAll(".cancel");
const forms = document.querySelector(".forms");
const layer = document.querySelector(".layer");
const addProductBtn = document.querySelector(".products-box .head button");
const addPostBtn = document.querySelector(".posts-box .head button");
const productSaveBtn = document.querySelector(".addproduct .save");
const postSaveBtn = document.querySelector(".addpost .save"); // Select the save button for posts

cancelBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
        forms.style.display = "none";
        layer.style.display = "none";
        // Clear form fields when canceling - targeting by more specific selectors
        document.querySelector(".addproduct #title").value = "";
        document.querySelector(".addproduct input[name='desc'][id='desc']").value = ""; // Specific for product desc
        document.querySelector(".addproduct input[name='desc'][id='desc']:nth-of-type(3)").value = ""; // Specific for product price
        document.querySelector(".addproduct #img").value = "";

        document.querySelector(".addpost #desc").value = ""; // Specific for post desc
        document.querySelector(".addpost #img").value = ""; // Specific for post img
    });
});

addProductBtn.addEventListener("click", () => {
    forms.style.display = "flex";
    layer.style.display = "block";
    document.querySelector(".addproduct").style.display = "flex";
    document.querySelector(".addpost").style.display = "none";
});

productSaveBtn.addEventListener("click", () => {
    // Select inputs using more specific CSS selectors within the .addproduct form
    const productTitle = document.querySelector(".addproduct #title").value;
    const productDesc = document.querySelector(".addproduct input[name='desc'][id='desc']").value; // Targets the first 'desc' in addproduct
    const productPrice = document.querySelector(".addproduct input[name='desc'][id='desc']:nth-of-type(3)").value; // Targets the third input with name/id 'desc' for price
    const productImg = document.querySelector(".addproduct #img").value; // Targets the first 'img' in addproduct

    // Basic validation
    if (!productTitle || !productDesc || !productPrice || !productImg) {
        alert("Please fill in all product fields.");
        return;
    }

    const product = document.createElement("div");
    product.classList.add("product");
    product.innerHTML = `
        <h1>${productTitle}</h1>
        <p>${productDesc}</p>
        <h3>$${parseFloat(productPrice).toFixed(2)}</h3>
        <img src="${productImg}" alt="${productTitle}" width="250">
    `;
    document.querySelector(".products").appendChild(product);

    forms.style.display = "none";
    layer.style.display = "none";

    // Clear form fields after saving
    document.querySelector(".addproduct #title").value = "";
    document.querySelector(".addproduct input[name='desc'][id='desc']").value = "";
    document.querySelector(".addproduct input[name='desc'][id='desc']:nth-of-type(3)").value = "";
    document.querySelector(".addproduct #img").value = "";
});

addPostBtn.addEventListener("click", () => {
    forms.style.display = "flex";
    layer.style.display = "block";
    document.querySelector(".addpost").style.display = "flex";
    document.querySelector(".addproduct").style.display = "none";
});

postSaveBtn.addEventListener("click", () => {
    // Select inputs using more specific CSS selectors within the .addpost form
    const postDesc = document.querySelector(".addpost #desc").value; // Targets the 'desc' in addpost
    const postImg = document.querySelector(".addpost #img").value; // Targets the 'img' in addpost

    // Basic validation
    if (!postDesc || !postImg) {
        alert("Please fill in all post fields.");
        return;
    }

    const post = document.createElement("div");
    post.classList.add("post");
    post.innerHTML = `
        <div class="pic">
            <i class="fa-solid fa-user"></i>
        </div>
        <p>${postDesc}</p>
        <img src="${postImg}" alt="Post Image" width="250">
    `;
    document.querySelector(".posts").appendChild(post);

    forms.style.display = "none";
    layer.style.display = "none";

    // Clear form fields after saving
    document.querySelector(".addpost #desc").value = "";
    document.querySelector(".addpost #img").value = "";
});
    </script>
</body>
</html>